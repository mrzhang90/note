<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    console.log('get方法用于拦截某个属性的读取操作。')
    var person={
        name:'张三'
    }
    var proxy=new Proxy(person,{
        get:function(target,property){
            if(property in target){
                console.log(target[property])
                return target[property];
            }else{
//                throw new Error("Property "+property+" does not exist");
                console.error("Property "+property+" does not exist");
            }
        }
    })
    proxy.name;//"张三"
    proxy.age;//抛错误

    console.log('下面的例子使用get拦截，实现数组读取负数的索引。');
    function createArray(...elements){
        let handler={
            get:function(target,propKey,receiver){
                var index=Number(propKey);
                if(index<0){
                    propKey=target.length+propKey;
                }
                return Reflect.get(target,propKey,receiver)
            }
        }
        var target=[];
        target.push(...elements)
        return new Proxy(target,handler);
    }
    var arr=createArray(1,2,3);
    console.log(arr[1])
</script>
</body>
</html>